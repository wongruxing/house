import{A as T,s as i,u as v,N as S,C as r,T as w,S as d,g as P}from"./date-range-fd9b2d93.js";import{C as B}from"./content-card-8caa59ff.js";import{d as F,r as s,w as M,o as R,c as j,a,b as n,u as o,e as h,t as _,i as I,f as V,_ as z}from"./index-0ef19f66.js";const E="/frontend/assets/jy-ba3b6ae8.png",G={class:"statis-box"},q={class:"statis-item"},H={class:"original-box"},J={class:"original-data"},K={class:"original-data-1"},L={class:"original-data-num"},Q={class:"original-data-1"},U={class:"original-data-num"},W={class:"original-data-1"},X={class:"original-data-num"},Y={class:"margin-top-30"},Z={class:"margin-top-30 second-title"},$={class:"chart-box"},ee={class:"chart-content"},ae={class:"chart-content"},te={class:"margin-top-30"},ne={class:"chart-box"},le={class:"chart-content1"},se={class:"chart-content1"},oe={class:"statis-item"},ie={class:"margin-top-30"},re={class:"chart-content2"},ve={class:"chart-content2"},ue={class:"chart-content2"},ce=F({__name:"makePolicy",setup(me){const p=I("filterDate"),u=s({});M(()=>p,()=>{u.value={...u.value,...P(p.value)},A()},{deep:!0});const l=s({}),c=s(),g=s(),f=s(),C=s(),y=s(),b=s(),k=s();R(()=>{A()});const A=async()=>{const e=await T.getPolicyOverviews(u.value);l.value=e,i(c.value.chart,[{value:e.social[1],name:"大型及以上餐饮"},{value:e.social[2],name:"中型及以上餐饮"},{value:e.social[3],name:"小微型及以上餐饮"}]),i(g.value.chart,[{...c.value.chart.getOption().series[0],data:[{value:e.canteen[4],name:"蛋类"},{value:e.canteen[7],name:"果蔬"},{value:e.canteen[8],name:"肉类"},{value:e.canteen[6],name:"其他"}]}]),i(f.value.chart,[{value:e.networkRestaurant,name:"网络餐饮"},{value:e.unNetworkRestaurant,name:"非网络餐饮"}]),i(C.value.chart,[{value:e.sunshine,name:"已建成"},{value:e.unSunshine,name:"未建成"}]),i(y.value.chart,[{value:e.lvA[1],name:"大型及以上餐饮"},{value:e.lvA[2],name:"中型及以上餐饮"},{value:e.lvA[3],name:"小微型及以上餐饮"},{value:e.lvA[4],name:"学校食堂"},{value:e.lvA[7],name:"医疗机构食堂"},{value:e.lvA[8],name:"其它食堂"},{value:e.lvA[6],name:"养老机构食堂"}]),i(b.value.chart,[{value:e.lvB[1],name:"大型及以上餐饮"},{value:e.lvB[2],name:"中型及以上餐饮"},{value:e.lvB[3],name:"小微型及以上餐饮"},{value:e.lvB[4],name:"学校食堂"},{value:e.lvB[7],name:"医疗机构食堂"},{value:e.lvB[8],name:"其它食堂"},{value:e.lvB[6],name:"养老机构食堂"}]),i(k.value.chart,[{value:e.lvC[1],name:"大型及以上餐饮"},{value:e.lvC[2],name:"中型及以上餐饮"},{value:e.lvC[3],name:"小微型及以上餐饮"},{value:e.lvC[4],name:"学校食堂"},{value:e.lvC[7],name:"医疗机构食堂"},{value:e.lvC[8],name:"其它食堂"},{value:e.lvC[6],name:"养老机构食堂"}])},D=v({convertData:()=>[{value:21,name:"五星(优)"},{value:2,name:"二星(良)"},{value:1,name:"一星(差)"}]}),O=v({convertData:()=>[{value:700,name:"蛋类"},{value:308,name:"果蔬"},{value:500,name:"肉类"},{value:200,name:"其他"}]}),m=v({convertData:()=>[{value:1048,name:"周一"},{value:735,name:"周二"},{value:580,name:"周三"},{value:1048,name:" 周四"},{value:1048,name:"周五"},{value:1048,name:"周六"},{value:1048,name:"周日"}],convertSeries:()=>({with:157,height:157}),convertlegend:()=>({right:0,left:null,itemGap:25,top:"center"})}),x=v({convertData:()=>[{value:400,name:"肉蛋类"},{value:200,name:"果蔬类"},{value:100,name:"其他"}],convertlegend:()=>({orient:"horizontal"}),convertSeries:()=>({with:170,height:170})}),N=v({convertData:()=>[{value:200,name:"肉蛋类"},{value:100,name:"果蔬类"},{value:30,name:"其他"}],convertlegend:()=>({orient:"horizontal"}),convertSeries:()=>({with:170,height:170})});return(e,t)=>(V(),j("div",G,[a("div",q,[n(w,{title:"决策统计"}),a("div",H,[n(S,{icon:o(E),unit:"24位",label:"就餐人数",num:l.value.total},null,8,["icon","num"]),a("div",J,[a("div",K,[t[0]||(t[0]=h(" 早餐人数 ")),t[1]||(t[1]=a("div",{class:"line2"},null,-1)),a("div",L,_(l.value.currentMonthAdd),1)]),a("div",Q,[t[2]||(t[2]=h(" 午餐人数 ")),t[3]||(t[3]=a("div",{class:"line1"},null,-1)),a("div",U,_(l.value.currentMonthOFFNum),1)]),a("div",W,[t[4]||(t[4]=h(" 晚餐人数 ")),t[5]||(t[5]=a("div",{class:"line3"},null,-1)),a("div",X,_(l.value.currentMonthOFFNum),1)])])]),a("div",Y,[n(B,{contents:[{label:"菜品分析",value:l.value.socialTotal},{label:"库存管理",value:l.value.canteenTotal},{label:"每日支出",value:l.value.networkRestaurant}]},null,8,["contents"])]),a("div",Z,[n(d,{title:"菜品分析"}),n(d,{title:"库存管理"})]),a("div",$,[a("div",ee,[n(r,{options:o(D),ref_key:"chart1",ref:c},null,8,["options"])]),a("div",ae,[n(r,{options:o(O),ref_key:"chart2",ref:g},null,8,["options"])])]),a("div",te,[n(d,{title:"食材损耗"})]),a("div",ne,[a("div",le,[n(r,{options:o(x),ref_key:"chart3",ref:f},null,8,["options"]),t[6]||(t[6]=a("div",{class:"chart-msg"},"今日",-1))]),a("div",se,[n(r,{options:o(N),ref_key:"chart4",ref:C},null,8,["options"]),t[7]||(t[7]=a("div",{class:"chart-msg"}," 昨日 ",-1))])])]),a("div",oe,[n(w,{title:"能耗数据"}),a("div",ie,[n(B,{contents:[{label:"能耗量",value:l.value.authCompanyNum},{label:"水耗",value:l.value.lvATotal},{label:"电耗",value:l.value.lvBTotal},{label:"汽耗",value:l.value.lvCTotal}]},null,8,["contents"])]),a("div",re,[n(r,{options:o(m),ref_key:"chart5",ref:y},null,8,["options"]),t[8]||(t[8]=a("div",{class:"chart-msg2"},"水耗",-1))]),a("div",ve,[n(r,{options:o(m),ref_key:"chart6",ref:b},null,8,["options"]),t[9]||(t[9]=a("div",{class:"chart-msg2"},"电耗",-1))]),a("div",ue,[n(r,{options:o(m),ref_key:"chart7",ref:k},null,8,["options"]),t[10]||(t[10]=a("div",{class:"chart-msg2"},"汽耗",-1))])])]))}});const pe=z(ce,[["__scopeId","data-v-3241ba65"]]);export{pe as default};
